<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym Management - Trang chủ</title>
    <link rel="stylesheet" href="../../common/css/base.css">
    <link rel="stylesheet" href="home.css">
    <style>
        /* --- CSS cho Modal (Copy vào home.css nếu chưa có) --- */
        .modal { display: none; position: fixed; z-index: 1050; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); padding-top: 60px; justify-content: center; align-items: center; }
        .modal-content { background-color: #fefefe; margin: auto; padding: 25px 30px; border: 1px solid #ddd; border-radius: 8px; width: 90%; max-width: 500px; position: relative; box-shadow: 0 4px 8px rgba(0,0,0,0.2); animation: fadeInModal 0.3s ease-out; }
        .modal-content.small { max-width: 400px; text-align: center; }
        .close-button { color: #aaa; position: absolute; top: 10px; right: 15px; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close-button:hover, .close-button:focus { color: black; text-decoration: none; }
        .modal h2 { margin-top: 0; margin-bottom: 20px; color: #333; font-size: 1.5em; }
        .modal p { margin-bottom: 20px; color: #555; }
        .form-group { margin-bottom: 15px; text-align: left; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #555; }
        .form-group input[type="text"], .form-group input[type="email"],
        .form-group input[type="date"], .form-group select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 1em; }
        .form-actions { margin-top: 20px; text-align: right; display: flex; justify-content: flex-end; gap: 10px; }
        .form-actions[style*="center"] { justify-content: center; } /* Style cho nút căn giữa */
        .error-message { color: red; font-size: 0.9em; margin-top: 10px; min-height: 1.2em; text-align: left;}
        @keyframes fadeInModal { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        /* --- CSS cho Phân trang (Copy vào home.css nếu chưa có) --- */
        .home-pagination-container { display: flex; justify-content: center; align-items: center; margin-top: 30px; padding-bottom: 20px; }
        .home-pagination { list-style: none; padding: 0; margin: 0; display: flex; gap: 5px; }
        .home-pagination li a, .home-pagination li span { display: block; padding: 8px 14px; min-width: 40px; text-align: center; border: 1px solid #dee2e6; border-radius: 4px; color: #007bff; background-color: #fff; text-decoration: none; transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease; cursor: pointer; font-size: 0.9em; }
        .home-pagination li a:hover { background-color: #e9ecef; border-color: #adb5bd; }
        .home-pagination li.active span { background-color: #007bff; color: #fff; border-color: #007bff; cursor: default; }
        .home-pagination li.disabled span, .home-pagination li.disabled a { color: #6c757d; background-color: #f8f9fa; border-color: #dee2e6; cursor: not-allowed; pointer-events: none; }

        /* Optional: Style cho nút bị vô hiệu hóa */
        button[disabled] { opacity: 0.6; cursor: not-allowed !important; }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="container header-content">
            <div class="logo">
                <p>GYM MANAGEMENT</p>
            </div>
            <nav class="main-nav">
                 <ul>
                    <li><a href="#">Trang chủ</a></li>
                    <li><a href="../schedule/schedule.html">Lịch tập</a></li>
                    <li id="user-info" style="display: none;">
                        <span>Chào, <strong id="username"></strong>!</span>
                        <a href="../dashboard/dashboard.html" id="manage-link" style="display: none;">Quản lý</a>
                        <button id="logout-button">Đăng xuất</button>
                    </li>
                    <li id="login-link-li">
                        <a href="../login/login.html" id="login-link">Đăng nhập</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero-section">
            <div class="hero-overlay">
                <div class="container hero-text">
                    <h1>Welcome to Our Gym</h1>
                    <p>Transform Your Body, Transform Your Life</p>
                    <a href="../schedule/schedule.html" class="btn btn-primary">Bắt đầu ngay</a>
                </div>
            </div>
        </section>

        <section class="popular-classes-section">
            <div class="container">
                <h2>Các lớp học phổ biến</h2>
                <div class="classes-grid" id="popular-classes-container">
                    <p style="text-align: center; color: #6c757d;">Đang tải danh sách lớp học...</p>
                </div>
                <nav class="home-pagination-container" aria-label="Class pagination">
                    <ul class="home-pagination" id="home-pagination-controls"></ul>
                </nav>
            </div>
        </section>
    </main>

    <footer class="main-footer">
       <div class="container footer-grid"> <div class="footer-column"><h4>Về chúng tôi</h4><p>Gym Management - Nơi bạn bắt đầu hành trình fitness của mình với các trang thiết bị hiện đại và đội ngũ huấn luyện viên chuyên nghiệp.</p></div> <div class="footer-column"><h4>Liên hệ</h4><p>Email: contact@gym.com<br> Phone: (123) 456-7890<br> Địa chỉ: 123 Đường ABC, Quận XYZ</p></div> <div class="footer-column"><h4>Theo dõi</h4><div class="social-links"> <a href="https://www.facebook.com/rikkeisofthochiminh?locale=vi_VN">Facebook</a> <a href="https://www.youtube.com/@Rikkeisoft">Youtube</a> <a href="https://www.linkedin.com/company/rikkeisoft/?originalSubdomain=vn">LinkedId</a></div></div> </div> <div class="copyright-bar"><div class="container"><p>© 2024 Gym Management. All rights reserved.</p></div></div>
    </footer>

    <div id="booking-modal-on-home" class="modal">
        <div class="modal-content">
            <span class="close-button home-modal-close">×</span>
            <h2 id="booking-modal-title">Đặt Lịch Tập</h2>
            <form id="booking-modal-form">
                <div class="form-group">
                    <label for="booking-class-type">Chọn lớp học:</label>
                    <select id="booking-class-type" required>
                        <option value="">-- Đang tải dịch vụ... --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="booking-schedule-date">Chọn ngày tập:</label>
                    <input type="date" id="booking-schedule-date" required>
                </div>
                <div class="form-group">
                    <label for="booking-schedule-time">Chọn khung giờ:</label>
                    <select id="booking-schedule-time" required>
                        <option value="">-- Chọn giờ --</option>
                        <option value="06:00 - 07:00">06:00 - 07:00</option>
                        <option value="07:00 - 08:00">07:00 - 08:00</option>
                        <option value="08:00 - 09:00">08:00 - 09:00</option>
                        <option value="17:00 - 18:00">17:00 - 18:00</option>
                        <option value="18:00 - 19:00">18:00 - 19:00</option>
                        <option value="19:00 - 20:00">19:00 - 20:00</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="booking-full-name">Họ tên:</label>
                    <input type="text" id="booking-full-name" placeholder="Họ tên của bạn" required readonly>
                </div>
                <div class="form-group">
                    <label for="booking-email">Email:</label>
                    <input type="email" id="booking-email" placeholder="Email của bạn" required readonly>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Xác nhận Đặt Lịch</button>
                    <button type="button" class="btn btn-secondary home-modal-close">Hủy</button>
                </div>
                 <p id="booking-modal-error" class="error-message"></p>
            </form>
        </div>
    </div>

    <div id="login-prompt-modal" class="modal">
        <div class="modal-content small">
            <span class="close-button login-prompt-close">×</span>
            <h2>Yêu cầu Đăng nhập</h2>
            <p>Vui lòng đăng nhập hoặc tạo tài khoản để có thể đặt lịch tập.</p>
            <div class="form-actions" style="justify-content: center;">
                <a href="../login/login.html" class="btn btn-primary">Đi đến Đăng nhập</a>
                <button type="button" class="btn btn-secondary login-prompt-close">Đóng</button>
            </div>
        </div>
    </div>

    <div id="booking-success-modal" class="modal">
        <div class="modal-content small">
            <span class="close-button booking-success-close">×</span>
            <h2>Đặt Lịch Thành Công!</h2>
            <p>Yêu cầu đặt lịch của bạn đã được gửi. Vui lòng chờ quản trị viên duyệt.</p>
            <p>Bạn có thể theo dõi trạng thái trong trang <a href="../schedule/schedule.html" style="color: #007bff; text-decoration: underline;">Lịch tập</a>.</p>
            <div class="form-actions" style="justify-content: center;">
                <button type="button" class="btn btn-primary booking-success-close">OK</button>
            </div>
        </div>
    </div>

    <script src="home.js" defer></script>

</body>
</html>